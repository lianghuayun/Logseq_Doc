- 适用于设计者的能量仿真与[[能量模型]]
	- 模拟级
		- 基于包含寄生元素的晶体管网表，通过[[差分方程]]求解能耗
	- 逻辑级
		- 对数字电路信号电平转换仿真得到元件网表，再将转换结果映射为能量迹（通用模型：汉明距离模型，HD模型）
			- [[汉明距离模型]]：计算数字电路特定时间段电平转换总数，刻画该时段能耗
	- 行为级
		- 同时考虑到能量消耗的[[数据依赖性]]和[[操作依赖性]]
- 适用于攻击者的能量仿真与[[能量模型]]
	- 对攻击者而言，能耗的绝对值没有意义，重要的是多次仿真获得的能耗之差
		- [[汉明距离模型]]
			- 攻击者根据获得的元件网表信息进行能耗仿真
			- 对攻MCU而言，许多器件采用相似设计方法，汉明距离模型适合刻画数据总线的能耗;寄存器由时钟信号触发，汉明距离模型适合刻画寄存器的能耗
			- [[汉明距离模型扩展]]：汉明距离模型假设数据任意比特对能耗有相同影响，若对设备某些元件了解更深刻则可以在模型中给不同比特或不同转换赋予不同权重。
		- [[汉明重量模型]]
			- 未知前续或后继数据的情况无法使用汉明距离模型
			- v0的各个比特相等且恒定，汉明重量模型与汉明距离模型等价
			- v0的各个比特恒定，可以分析单个比特情形相当于汉明重量模型与汉明距离模型等价；分析所有比特，v0越多位保持不变，v1的汉明重量与转换位数越强相关性
			- v0的各个比特服从均匀分布且统计独立于v1，汉明重量模型与汉明距离模型无关。
- 能量分析攻击测量配置
	- 典型测量配置
		- 电源，能量测量电路或EM探针，示波器，PC，密码设备，时钟发生器
			- 测量功率相关信号：能量测量电路或EM探针
			- 数字示波器：一般采样率选择能耗信号中最主要分量的几倍
		- 测量流程：1.密码设备上电 2.PC对示波器配置 3.PC向密码设备发送密令，令其开始进行密码算法；示波器测量能耗 4.PC得到密码设备输出，示波器得到能量迹传回PC 5.重复步骤直到满足攻击需求
	- 测量配置标准
		- 能耗信号是模拟高频信号，现在的CMOS工艺下逻辑元件输出一般小于1ns发生反转，因此能耗信号频率在GHz量级
		- 信号从元件到示波器传递过程中会收到干扰，包括噪声，导线反射，串扰，滤波等。测量配置的好坏取决于其对高频效应的处理
			- 能量迹中的噪声
				- [[电子噪声]]：相同输入参数对密码设备重复测量，能量迹不同
					- 电源噪声：建议采用高质量稳压电源，不建议用PC的USB供电，推荐用实验室电源或电池
					- 时钟发生器噪声：时钟频率不稳会导致能量迹失调
					- 传导发射噪声：与攻击设备相连部件的传导发射噪声
					- 辐射发射噪声
					- 量子化噪声：示波器量化造成，分辨率越高量化噪声越小
				- [[转换噪声]]：与攻击无关的元件带来的噪声
					- EM探针针对性测量可以减小影响
					- 降低芯片的时钟频率可以减小转换噪声
					- 高度并行结构的设备提高攻击的难度
- 能量迹的组成
	- P操作依赖，P数据依赖，P固有（与攻击无关），P电子噪声
		- 能量迹单点特征分析
			- P电子噪声：多次记录密码设备对恒定数据执行相同操作的能耗，选取固定时间点分析------->[[正态分布]]
			- P数据依赖：多次记录密码设备对8位服从[[均匀分布]]数据执行相同操作的能耗，选取固定时间点分析--->能耗与数据的汉明重量相关（8bit数据存在9种可能的汉明重量，每种可能服从一种特定的[[正态分布]]）
				- 能耗反比与数据的汉明重量---对绝大多数攻击，汉明重量模型对能耗刻画足够
			- P操作依赖：多次记录密码设备对恒定数据执行不同操作的能耗，选取固定时间点分析------->[[正态分布]]
		- 能量迹单点泄漏分析